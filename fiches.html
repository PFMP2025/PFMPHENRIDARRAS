<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PFMP ‚Äî Lieux de stage</title>
  <!-- Police moderne avec fallback -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f6f8fb;
      --surface:#ffffff;
      --text:#1f2937;
      --muted:#6b7280;
      --primary:#0b4ea2;      /* bleu CIEL */
      --primary-2:#1f8b4c;     /* vert MELEC */
      --primary-3:#7b3fb3;     /* violet Chaudronnerie */
      --ring: rgba(11,78,162,.25);
      --shadow: 0 8px 24px rgba(0,0,0,.08);
      --radius: 14px;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; background:var(--bg); color:var(--text);
      font-family:"Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      line-height:1.6;
    }

    /* ====== Header / Navbar ====== */
    .navbar{
      position:sticky; top:0; z-index:1000; backdrop-filter:saturate(180%) blur(8px);
      background:linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
      border-bottom:1px solid #e5e7eb;
    }
    .nav-inner{max-width:1200px; margin:0 auto; padding:14px 20px; display:flex; align-items:center; gap:18px}
    .brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.3px}
    .brand .logo{width:34px; height:34px; border-radius:10px; background:linear-gradient(135deg, var(--primary), #1a73e8); box-shadow:0 6px 16px rgba(26,115,232,.35); display:grid; place-items:center; color:#fff; font-size:18px}
    .brand span{font-size:18px}

    .nav-links{margin-left:auto; display:flex; gap:10px; flex-wrap:wrap}
    .nav-links a{
      text-decoration:none; color:var(--text); font-weight:600; font-size:14px; padding:8px 12px; border-radius:10px; transition:all .2s ease;
    }
    .nav-links a:hover{ background:#eef2ff; color:var(--primary)}

    /* Boutons flottants */
    .btn-float{
      position:fixed; right:16px; bottom:16px; z-index:900; display:flex; flex-direction:column; gap:10px;
    }
    .btn{appearance:none; border:0; border-radius:10px; padding:10px 14px; font-weight:700; cursor:pointer; box-shadow:var(--shadow); background:var(--primary); color:#fff; transition:transform .15s ease, filter .15s ease}
    .btn.secondary{background:#111827}
    .btn:hover{transform:translateY(-1px)}

    /* ====== Hero / Titre ====== */
    .hero{max-width:1200px; margin:24px auto 0; padding:0 20px 24px}
    .hero h1{margin:8px 0 6px; font-size:clamp(24px, 3vw, 36px)}
    .hero p{margin:0; color:var(--muted)}

    /* ====== Barre outils (recherche/filtre) ====== */
    .toolbar{max-width:1200px; margin:18px auto; padding:0 20px}
    .toolcard{background:var(--surface); border-radius:var(--radius); box-shadow:var(--shadow); padding:16px; display:flex; gap:12px; flex-wrap:wrap; align-items:center}
    .field{position:relative}
    .field input, .field select{
      appearance:none; border:1px solid #e5e7eb; border-radius:999px; padding:12px 44px 12px 44px; font-size:14px; outline:none; transition:border-color .2s, box-shadow .2s; background:#fff; min-width:260px
    }
    .field select{padding-left:16px; min-width:200px}
    .field input:focus, .field select:focus{border-color:var(--primary); box-shadow:0 0 0 6px var(--ring)}
    .field .icon{position:absolute; left:14px; top:50%; transform:translateY(-50%); font-size:18px; color:var(--muted)}

    .stats{margin-left:auto; display:flex; gap:12px; flex-wrap:wrap}
    .badge{display:inline-flex; align-items:center; gap:6px; padding:8px 12px; border-radius:999px; background:#f3f4f6; font-weight:600; font-size:12px}
    .badge .dot{width:8px; height:8px; border-radius:50%}
    .dot.ciel{background:var(--primary)}
    .dot.melec{background:var(--primary-2)}
    .dot.chaud{background:var(--primary-3)}

    /* ====== Sections ====== */
    .container{max-width:1200px; margin:0 auto; padding:0 20px 60px}
    .section{margin:28px 0}
    .section h2{display:flex; align-items:center; gap:10px; margin:6px 0 14px; font-size:clamp(18px, 2.2vw, 24px)}
    .section h2 .tag{font-size:12px; font-weight:700; padding:6px 10px; border-radius:999px; background:#eef2ff; color:var(--primary)}
    .section[data-fil="melec"] h2 .tag{background:#ebf7ef; color:var(--primary-2)}
    .section[data-fil="chaud"] h2 .tag{background:#f4ebff; color:var(--primary-3)}

    /* Accord√©ons / cartes */
    details{border-radius:14px; overflow:hidden; background:var(--surface); box-shadow:var(--shadow); margin-bottom:14px; transition:transform .15s ease}
    details:hover{transform:translateY(-2px)}
    summary{list-style:none; cursor:pointer; padding:16px 18px; display:flex; align-items:center; justify-content:space-between; gap:12px; background:linear-gradient(180deg, #f8fafc, #f1f5f9); border-bottom:1px solid #eef2f7; font-weight:700}
    summary::-webkit-details-marker{display:none}
    .sum-left{display:flex; align-items:center; gap:10px}
    .sum-title{display:flex; align-items:center; gap:8px}
    .counter{color:var(--muted); font-weight:600; font-size:12px}
    .chev{transition:transform .2s ease;}
    details[open] .chev{transform:rotate(180deg)}
    .panel{padding:10px 18px 16px; animation:reveal .25s ease}
    @keyframes reveal{from{opacity:0; transform:translateY(-4px)} to{opacity:1; transform:none}}

    ul.place-list{margin:0; padding:0}
    ul.place-list li{list-style:none; padding:9px 10px; border-radius:10px; display:flex; align-items:center; gap:10px}
    ul.place-list li:not(:last-child){border-bottom:1px dashed #e5e7eb}
    .place-icon{font-size:18px}
    .place-name{font-weight:600}
    .ville{margin-left:auto; color:var(--muted); font-style:italic; white-space:nowrap}

    /* Footer */
    footer{border-top:1px solid #e5e7eb; background:#fff;}
    .foot-inner{max-width:1200px; margin:0 auto; padding:18px 20px; display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; color:var(--muted); font-size:14px}

    /* Utilitaires */
    .sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}
    .spacer{height:8px}

    @media (max-width:640px){
      .stats{width:100%; justify-content:space-between}
      .field input{min-width:unset; width:100%}
      .toolcard{justify-content:stretch}
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <header class="navbar" role="navigation" aria-label="Navigation principale">
    <div class="nav-inner">
      <div class="brand" aria-label="Accueil">
        <div class="logo">HD</div>
        <span>PFMP ‚Äî Lieux de stage</span>
      </div>
      <nav class="nav-links">
        <a href="#ciel" title="Aller √† CIEL">üñ•Ô∏è CIEL</a>
        <a href="#melec" title="Aller √† MELEC">‚ö° MELEC</a>
        <a href="#chaudronnerie" title="Aller √† Chaudronnerie">üèóÔ∏è Chaudronnerie</a>
      </nav>
    </div>
  </header>

  <!-- Boutons flottants -->
  <div class="btn-float" aria-label="Actions rapides">
    <a class="btn" href="map.html">Voir la carte</a>
    <button class="btn secondary" onclick="history.back()">‚Üê Retour</button>
  </div>

  <!-- Hero -->
  <section class="hero" aria-labelledby="titre-page">
    <h1 id="titre-page">Trouvez rapidement un lieu de PFMP</h1>
    <p>Filtrez par fili√®re ou recherchez des mots-cl√©s (ex. domotique, cybers√©curit√©, maintenance...).</p>
  </section>

  <!-- Barre outils -->
  <section class="toolbar" aria-label="Outils de recherche">
    <div class="toolcard" role="group" aria-label="Filtres">
      <label class="sr-only" for="filiereSelect">Filtrer par fili√®re</label>
      <div class="field">
        <select id="filiereSelect" onchange="filterByFiliere()">
          <option value="all">Toutes les fili√®res</option>
          <option value="ciel">CIEL</option>
          <option value="melec">MELEC</option>
          <option value="chaud">Chaudronnerie</option>
        </select>
      </div>

      <label class="sr-only" for="searchInput">Rechercher</label>
      <div class="field" style="flex:1; min-width:260px">
        <span class="icon">üîé</span>
        <input id="searchInput" type="text" placeholder="Rechercher un mot-cl√©, une entreprise ou une ville" oninput="filterCards()" />
      </div>

      <div class="stats">
        <div class="badge"><span class="dot ciel"></span> CIEL <span id="count-ciel"></span></div>
        <div class="badge"><span class="dot melec"></span> MELEC <span id="count-melec"></span></div>
        <div class="badge"><span class="dot chaud"></span> Chaudronnerie <span id="count-chaud"></span></div>
      </div>
    </div>
  </section>

  <!-- Contenu principal -->
  <main class="container">
    <!-- CIEL -->
    <section id="ciel" class="section" data-fil="ciel">
      <h2>üñ•Ô∏è Fili√®re CIEL <span class="tag">R√©seaux ‚Ä¢ Cybers√©curit√© ‚Ä¢ IoT</span></h2>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">üîß Technicien R√©seaux/Informatiques/Programmation</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <p><strong>Description :</strong> Installe, configure et maintient les r√©seaux informatiques (serveurs, routeurs, c√¢blage...).</p>
          <ul class="place-list">
            <li><span class="place-icon">üè¢</span> <span class="place-name">Secure Informatique</span> <span class="ville">Li√©vin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">DTI Informatique</span> <span class="ville">Li√©vin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">XEFI Lens</span> <span class="ville">Li√©vin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">ENOVA</span> <span class="ville">Lille</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">NERI Info</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">LMELEC</span> <span class="ville">Arras</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Veolia Agriculture</span> <span class="ville">Arras</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">CESI Campus</span> <span class="ville">Arras</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Manpower</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">IG2I</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Proch'Emploi</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Cyberiris</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Stormshield</span> <span class="ville">Villeneuve-d'Ascq</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">VINCI Energies</span> <span class="ville">Gavrelle</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Advitam Performance</span> <span class="ville">Arras</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Amipro</span> <span class="ville">Arras</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">APF</span> <span class="ville">Li√©vin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Aramys</span> <span class="ville">H√©nin-Beaumont</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Artesienne</span> <span class="ville">Li√©vin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Clic Informatiques</span> <span class="ville">Arras</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Comitrans</span> <span class="ville">Henin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Consultation Reseaux Com</span> <span class="ville">Achicourt</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Document Solutions 62</span> <span class="ville">Sallaumines</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Eurofiber France</span> <span class="ville">Villeneuve-d‚ÄôAscq</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">IB Environnement</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Itinsell</span> <span class="ville">Wasquehal</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Iris Informatique</span> <span class="ville">Douvrin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Itech Informatique</span> <span class="ville">Sainte-Catherine</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">2K Fibre</span> <span class="ville">Li√©vin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Services informatiques Keolis</span> <span class="ville">Sallaumines</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">A2B Klic Services</span> <span class="ville">Li√©vin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">MSI Nord</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Netsoft Pro</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Reiz Production</span> <span class="ville">Li√©vin</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Tibco Services</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Waykonect</span> <span class="ville">Lille</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Yzee Service</span> <span class="ville">Grenay</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Yzee Service</span> <span class="ville">Vendin-Le-Vieil</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Res Vi Com</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Roxys</span> <span class="ville">Arras</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Laptop Informatique</span> <span class="ville">Arras</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Linup</span> <span class="ville">Lens</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">Ben Informatique</span> <span class="ville">Billy-Montigny</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">LTPC Info</span> <span class="ville">Vendin-Le-Vieil</span></li>
            <li><span class="place-icon">üè¢</span> <span class="place-name">ODTel</span> <span class="ville">Grenay</span></li>
          </ul>
        </div>
      </details>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">üîß Services techniques Municipaux et Services Informatiques Lyc√©e</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <ul class="place-list">
            <li>üè¢ <span class="place-name">Services Informatiques Mairie</span> <span class="ville">Avion</span></li>
            <li>üè¢ <span class="place-name">Services Informatiques Mairie</span> <span class="ville">Harnes</span></li>
            <li>üè¢ <span class="place-name">Services Informatiques Mairie</span> <span class="ville">Lens</span></li>
            <li>üè¢ <span class="place-name">Services Informatiques Mairie</span> <span class="ville">Li√©vin</span></li>
            <li>üè¢ <span class="place-name">Services Informatiques Mairie</span> <span class="ville">M√©ricourt</span></li>
            <li>üè¢ <span class="place-name">Services Informatiques Mairie</span> <span class="ville">Montigny-en-Gohelle</span></li>
            <li>üè¢ <span class="place-name">Services Informatiques Mairie</span> <span class="ville">Vendin-le-Vieil</span></li>
            <li>üè¢ <span class="place-name">Services Informatiques FAC</span> <span class="ville">Lens</span></li>
            <li>üè¢ <span class="place-name">Services Informatiques IUT</span> <span class="ville">Lens</span></li>
            <li>üè¢ <span class="place-name">M√©diatheque</span> <span class="ville">Lens</span></li>
            <li>üè¢ <span class="place-name">Sport Services</span> <span class="ville">Lens</span></li>
            <li>üè¢ <span class="place-name">Lyc√©e Hennebique</span> <span class="ville">Li√©vin</span></li>
          </ul>
        </div>
      </details>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">üõ°Ô∏è Technicien Cybers√©curit√©</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <p><strong>Description :</strong> Prot√®ge les donn√©es, identifie les failles de s√©curit√©, s√©curise les infrastructures informatiques.</p>
          <ul class="place-list">
            <li>üè¢ <span class="place-name">No More Crash</span> <span class="ville">Vendin-le-Vieil</span></li>
            <li>üè¢ <span class="place-name">Nomios</span> <span class="ville">Villeneuve-d‚ÄôAscq</span></li>
            <li>üè¢ <span class="place-name">SkillX</span> <span class="ville">M√©tropole Lilloise</span></li>
            <li>üè¢ <span class="place-name">Cyberiris</span> <span class="ville">B√©thune</span></li>
            <li>üè¢ <span class="place-name">Stormshield</span> <span class="ville">Villeneuve-d'Ascq</span></li>
            <li>üè¢ <span class="place-name">CESI Arras</span></li>
            <li>üè¢ <span class="place-name">CPAM de Lens</span></li>
            <li>üè¢ <span class="place-name">Centre Hospitalier d‚ÄôArras</span></li>
            <li>üè¢ <span class="place-name">Proch'Emploi</span> <span class="ville">H√©nin-Carvin</span></li>
            <li>üè¢ <span class="place-name">VINCI Energies</span> <span class="ville">Gavrelle</span></li>
            <li>üè¢ <span class="place-name">Veolia Agriculture</span> <span class="ville">Arras</span></li>
            <li>üè¢ <span class="place-name">CESI Campus</span> <span class="ville">Arras</span></li>
            <li>üè¢ <span class="place-name">Pilliot Cybers√©curit√©</span> <span class="ville">Aire-Sur-La-Lys</span></li>
          </ul>
        </div>
      </details>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">üì° Technicien IoT / Smart Building</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <p><strong>Description :</strong> G√®re les installations d'objets connect√©s dans les b√¢timents (domotique, capteurs...).</p>
          <ul class="place-list">
            <li>üè¢ <span class="place-name">Kanope</span> <span class="ville">Lille</span></li>
            <li>üè¢ <span class="place-name">CITC</span> <span class="ville">Euratech Lille</span></li>
            <li>üè¢ <span class="place-name">Ganeo Confort</span> <span class="ville">Li√©vin</span></li>
            <li>üè¢ <span class="place-name">ECS-ELEC</span> <span class="ville">Lens</span></li>
            <li>üè¢ <span class="place-name">Instal' Service</span> <span class="ville">Lens</span></li>
            <li>üè¢ <span class="place-name">JB Domotique</span> <span class="ville">Li√©vin</span></li>
            <li>üè¢ <span class="place-name">ROBBE Menuiserie & Domotique</span> <span class="ville">Li√©vin</span></li>
            <li>üè¢ <span class="place-name">Delta Dore</span> <span class="ville">National</span></li>
            <li>üè¢ <span class="place-name">Delta Security Solutions</span> <span class="ville">Lens</span></li>
            <li>üè¢ <span class="place-name">Luminov</span> <span class="ville">Hulluch</span></li>
            <li>üè¢ <span class="place-name">VMJ Elec</span> <span class="ville">Loos-en-Gohelle</span></li>
            <li>üè¢ <span class="place-name">SADE</span> <span class="ville">Lens</span></li>
            <li>üè¢ <span class="place-name">Genie Elec et Domotique</span> <span class="ville">Li√©vin</span></li>
          </ul>
        </div>
      </details>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">üõ°Ô∏è Technicien Installation/Maintenance Electronique</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <p><strong>Description :</strong> Sp√©cialiste charg√© de diagnostiquer, entretenir et r√©parer les √©quipements √©lectroniques.</p>
          <ul class="place-list">
            <li>üè¢ Avexa <span class="ville">Carvin</span></li>
            <li>üè¢ Aquareze <span class="ville">Douvrin</span></li>
            <li>üè¢ CGM <span class="ville">Lens</span></li>
            <li>üè¢ Cyber Planete <span class="ville">Brebi√®res</span></li>
            <li>üè¢ Darty <span class="ville">H√©nin-Beaumont</span></li>
            <li>üè¢ DKA Electro D√©panne <span class="ville">B√©thune</span></li>
            <li>üè¢ Ipsicom <span class="ville">Saint-Laurent-Blangy</span></li>
            <li>üè¢ LTPC Info <span class="ville">Vendin-le-Vieil</span></li>
            <li>üè¢ Micro Boutique <span class="ville">Billy-Montigny</span></li>
            <li>üè¢ Mobile Angelo <span class="ville">Douvrin</span></li>
            <li>üè¢ S Inter <span class="ville">Vendin-le-Vieil</span></li>
            <li>üè¢ Solvarea <span class="ville">Oignies</span></li>
            <li>üè¢ Teclic <span class="ville">Th√©lus</span></li>
            <li>üè¢ Virginie Repar <span class="ville">Haisnes</span></li>
            <li>üè¢ VL Multitronique <span class="ville">Sallaumines</span></li>
            <li>üè¢ Web Deal Market <span class="ville">B√©thune</span></li>
            <li>üè¢ Cerelia <span class="ville">Li√©vin</span></li>
            <li>üè¢ RIS <span class="ville">Lens</span></li>
            <li>üè¢ Seibo <span class="ville">Mazingarbe</span></li>
            <li>üè¢ Haagen Dazs <span class="ville">Arras</span></li>
            <li>üè¢ Imprimerie Nationale <span class="ville">Flers</span></li>
            <li>üè¢ Ineo <span class="ville">Noyelles-Les-Seclin</span></li>
            <li>üè¢ Eco Style <span class="ville">Sainte-Catherine</span></li>
            <li>üè¢ Eiffage <span class="ville">B√©thune</span></li>
            <li>üè¢ Eiffage <span class="ville">Lens</span></li>
            <li>üè¢ Action Sant√© <span class="ville">Aix-Noulette</span></li>
            <li>üè¢ AES DANA <span class="ville">Saint-Laurent-Blangy</span></li>
            <li>üè¢ Axed Protec Automatiques <span class="ville">H√©nin-Beaumont</span></li>
            <li>üè¢ Axians <span class="ville">Saint-Laurent-Blangy</span></li>
            <li>üè¢ BM Tech <span class="ville">B√©thune</span></li>
            <li>üè¢ BM Tech <span class="ville">Hantay</span></li>
            <li>üè¢ Boulanger <span class="ville">Vendin-Le-Vieil</span></li>
            <li>üè¢ Boulanger <span class="ville">B√©thune</span></li>
            <li>üè¢ Boulanger <span class="ville">Lens</span></li>
            <li>üè¢ BUT <span class="ville">B√©thune</span></li>
            <li>üè¢ CiterNord <span class="ville">Carvin</span></li>
            <li>üè¢ Micro Boutique <span class="ville">Billy-Montigny</span></li>
            <li>üè¢ Tamda Tech <span class="ville">Lens</span></li>
          </ul>
        </div>
      </details>
    </section>

    <!-- MELEC -->
    <section id="melec" class="section" data-fil="melec">
      <h2>‚ö° Fili√®re MELEC <span class="tag">√âlectricit√© ‚Ä¢ Maintenance ‚Ä¢ Domotique</span></h2>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">‚öôÔ∏è √âlectricien du B√¢timent/Industrielle</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <ul class="place-list">
            <li>üè¢ SNEF</li>
            <li>üè¢ SPIE</li>
            <li>üè¢ Enedis</li>
            <li>üè¢ SPB √âLEC <span class="ville">Arras</span></li>
            <li>üè¢ GS ELEC <span class="ville">Lens</span></li>
            <li>üè¢ I.R.D ELEC 62 <span class="ville">Rouvroy</span></li>
            <li>üè¢ G.L.I ELEC <span class="ville">Li√©vin</span></li>
            <li>üè¢ LM Elec <span class="ville">Fresnes-les-Montauban</span></li>
            <li>üè¢ SOCOREBAT <span class="ville">Lens</span></li>
            <li>üè¢ CEVELEC <span class="ville">Seclin</span></li>
            <li>üè¢ Elec 2 Bat <span class="ville">Lens</span></li>
            <li>üè¢ LANELEC <span class="ville">Lens</span></li>
            <li>üè¢ CSF-RENOV <span class="ville">Lens</span></li>
            <li>üè¢ E2J Elec <span class="ville">Ablain-Saint-Nazaire</span></li>
            <li>üè¢ Ramery <span class="ville">Avion</span></li>
            <li>üè¢ Renov Et Vous <span class="ville">Anzin</span></li>
            <li>üè¢ Repair Et Custom <span class="ville">Lens</span></li>
            <li>üè¢ Sertec <span class="ville">Orchies</span></li>
            <li>üè¢ SESG <span class="ville">Gouy-En-Artois</span></li>
            <li>üè¢ Construction Artois Service <span class="ville">Li√©vin</span></li>
            <li>üè¢ CTI Elec <span class="ville">Angres</span></li>
            <li>üè¢ DDV Elec Fils <span class="ville">Noeux-Les-Mines</span></li>
            <li>üè¢ Foulon Chauffage <span class="ville">Hersin</span></li>
            <li>üè¢ General Energie <span class="ville">Lens</span></li>
            <li>üè¢ GLI Elec <span class="ville">Li√©vin</span></li>
            <li>üè¢ Group Electricity <span class="ville">Ruitz</span></li>
            <li>üè¢ Ledieu Elec <span class="ville">Arras</span></li>
            <li>üè¢ L'electricien <span class="ville">Carvin</span></li>
            <li>üè¢ LG Electricite <span class="ville">Aix-Noulette</span></li>
            <li>üè¢ LKT <span class="ville">Li√©vin</span></li>
            <li>üè¢ LP62 <span class="ville">Lens</span></li>
            <li>üè¢ EDF <span class="ville">Flamanville</span></li>
            <li>üè¢ Eiffage <span class="ville">B√©thune</span></li>
            <li>üè¢ Eiffage <span class="ville">Lens</span></li>
            <li>üè¢ 2Felec <span class="ville">Pulversheim</span></li>
            <li>üè¢ Flash Energy <span class="ville">Bully-Les-Mines</span></li>
            <li>üè¢ ABC Energie <span class="ville">Merville</span></li>
            <li>üè¢ ADFM Batiment <span class="ville">Lens</span></li>
            <li>üè¢ AES DANA <span class="ville">Saint-Laurent-Blangy</span></li>
            <li>üè¢ Batideko <span class="ville">Lens</span></li>
            <li>üè¢ Be Elec <span class="ville">Angres</span></li>
            <li>üè¢ 5COM <span class="ville">Sains-en-Gohelle</span></li>
            <li>üè¢ M4T <span class="ville">Loos-en-Gohelle</span></li>
            <li>üè¢ MT Elec Solutions <span class="ville">Barlin</span></li>
            <li>üè¢ OI France <span class="ville">Wingles</span></li>
            <li>üè¢ Okourant <span class="ville">Wingles</span></li>
            <li>üè¢ STOOPS <span class="ville">Campin-En-Pevelle</span></li>
            <li>üè¢ STTN Energie <span class="ville">Douvrin</span></li>
          </ul>
        </div>
      </details>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">üîß Technicien de Maintenance / R√©gulation</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <ul class="place-list">
            <li>üè¢ ArcelorMittal <span class="ville">Dunkerque</span></li>
            <li>üè¢ Alstom <span class="ville">Petite-For√™t</span></li>
            <li>üè¢ Maxei <span class="ville">Arras</span></li>
            <li>üè¢ ATEC <span class="ville">Arras</span></li>
            <li>üè¢ CITEVERT <span class="ville">Li√©vin</span></li>
            <li>üè¢ LFB <span class="ville">Arras</span></li>
            <li>üè¢ Eurofins <span class="ville">H√©nin-Beaumont</span></li>
            <li>üè¢ D'HONDT BENOIT <span class="ville">Lens</span></li>
            <li>üè¢ FM Bat'inov <span class="ville">Lens</span></li>
            <li>üè¢ SUEZ <span class="ville">Noyelles-Godault</span></li>
            <li>üè¢ EDF</li>
            <li>üè¢ Cerelia <span class="ville">Li√©vin</span></li>
            <li>üè¢ Seibo <span class="ville">Mazingarbe</span></li>
            <li>üè¢ Haagen Dazs <span class="ville">Arras</span></li>
            <li>üè¢ H√¥pitaux de l'Artois</li>
            <li>üè¢ Idex Energie <span class="ville">M√©ricourt</span></li>
            <li>üè¢ Ineo <span class="ville">Noyelles-Les-Seclin</span></li>
            <li>üè¢ JD Elec <span class="ville">Bruay-La-Buissi√®re</span></li>
            <li>üè¢ Logista <span class="ville">Lens</span></li>
            <li>üè¢ Logista <span class="ville">Li√©vin</span></li>
            <li>üè¢ EBM <span class="ville">Avion</span></li>
            <li>üè¢ EBTM <span class="ville">Harnes</span></li>
            <li>üè¢ Eclair Elec <span class="ville">Avion</span></li>
            <li>üè¢ ECL Five <span class="ville">Lille</span></li>
            <li>üè¢ Aide Elec <span class="ville">Maroeil</span></li>
            <li>üè¢ Ahnac <span class="ville">Riaumont</span></li>
            <li>üè¢ ALS LMP <span class="ville">H√©nin-Beaumont</span></li>
            <li>üè¢ Amper <span class="ville">Douai</span></li>
            <li>üè¢ Axed Protec Automatiques <span class="ville">H√©nin-Beaumont</span></li>
            <li>üè¢ Axians <span class="ville">Saint-Laurent-Blangy</span></li>
            <li>üè¢ Azelec <span class="ville">Rouvroy</span></li>
            <li>üè¢ Ben Alu <span class="ville">Li√©vin</span></li>
            <li>üè¢ BL2A Chauffage Climatisation <span class="ville">Dourges</span></li>
            <li>üè¢ CiteVert <span class="ville">Li√©vin</span></li>
            <li>üè¢ Next Energies <span class="ville">M√©ricourt</span></li>
            <li>üè¢ Plus Froid <span class="ville">Dainville</span></li>
            <li>üè¢ SM Renovelec <span class="ville">Houdain</span></li>
            <li>üè¢ SNCF <span class="ville">M√©ricourt</span></li>
            <li>üè¢ TADAO <span class="ville">Grenay</span></li>
            <li>üè¢ ToutBat <span class="ville">Avion</span></li>
          </ul>
        </div>
      </details>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">üîß Services techniques Municipaux/Lyc√©e/Coll√®ge</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <ul class="place-list">
            <li>üè¢ Services Techniques Mairie <span class="ville">Avion</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Harnes</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Lens</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Li√©vin</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">M√©ricourt</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Montigny-en-Gohelle</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Vendin-le-Vieil</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Souchez</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Billy-Montigny</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Vimy</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Mazingarbe</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Auchy-Les-Mines</span></li>
            <li>üè¢ Services Techniques Mairie <span class="ville">Angres</span></li>
            <li>üè¢ Coll√®ge Riaumont <span class="ville">Li√©vin</span></li>
          </ul>
        </div>
      </details>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">ü§ñ Automaticien</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <p><strong>Description :</strong> Programme les syst√®mes automatiques dans les usines et cha√Ænes de production.</p>
          <p><strong>Qualit√©s :</strong> Logique, rigueur, esprit de synth√®se.</p>
          <ul class="place-list">
            <li>üè¢ Actemium</li>
            <li>üè¢ Siemens</li>
            <li>üè¢ Bosch</li>
            <li>üè¢ Recup'Tri <span class="ville">Grenay</span></li>
          </ul>
        </div>
      </details>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">üè† Domoticien</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <p><strong>Description :</strong> Configure les √©quipements connect√©s : volets roulants, √©clairage intelligent, capteurs‚Ä¶</p>
          <p><strong>Qualit√©s :</strong> Sens du d√©tail, double comp√©tence en √©lectricit√©/informatique.</p>
          <ul class="place-list">
            <li>üè¢ Delta Dore</li>
            <li>üè¢ Legrand</li>
            <li>üè¢ Somfy</li>
            <li>üè¢ R2D <span class="ville">Courrieres</span></li>
            <li>üè¢ Domow Elec <span class="ville">Labourse</span></li>
            <li>üè¢ Genie Elec et Domotique <span class="ville">Li√©vin</span></li>
          </ul>
        </div>
      </details>
    </section>

    <!-- CHAUDRONNERIE -->
    <section id="chaudronnerie" class="section" data-fil="chaud">
      <h2>üèóÔ∏è Fili√®re Chaudronnerie <span class="tag">M√©tallerie ‚Ä¢ Soudage ‚Ä¢ Tuyauterie</span></h2>

      <details>
        <summary>
          <div class="sum-left">
            <div class="sum-title">üõ†Ô∏è Technicien Chaudronnier</div>
            <div class="counter" aria-live="polite"></div>
          </div>
          <div class="chev">‚ñæ</div>
        </summary>
        <div class="panel">
          <ul class="place-list">
            <li>üè¢ Rouby Industrie <span class="ville">Lens</span></li>
            <li>üè¢ Groupe Beaucourt <span class="ville">Billy-Berclau</span></li>
            <li>üè¢ BENALU <span class="ville">Li√©vin</span></li>
            <li>üè¢ STBE <span class="ville">Ruitz</span></li>
            <li>üè¢ Maxystem <span class="ville">Lens</span></li>
            <li>üè¢ ETCI <span class="ville">Lens</span></li>
            <li>üè¢ AFPI Alternance <span class="ville">H√©nin-Beaumont</span></li>
            <li>üè¢ SETRACO <span class="ville">Aniche</span></li>
            <li>üè¢ Chaudsoud <span class="ville">Loison-sous-Lens</span></li>
            <li>üè¢ CSM Industrie <span class="ville">Sallaumines</span></li>
            <li>üè¢ Qualitub <span class="ville">Vendin-Le-Vieil</span></li>
            <li>üè¢ Ramery <span class="ville">Avion</span></li>
            <li>üè¢ Renard <span class="ville">Loison-sous-Lens</span></li>
            <li>üè¢ RTE <span class="ville">B√©thune</span></li>
            <li>üè¢ RZ Jardin Multi Services <span class="ville">Saint-en-Gohelle</span></li>
            <li>üè¢ SADE <span class="ville">Lens</span></li>
            <li>üè¢ Satmi <span class="ville">Wingles</span></li>
            <li>üè¢ Secre Energie <span class="ville">Lens</span></li>
            <li>üè¢ SET <span class="ville">Rouvroy</span></li>
            <li>üè¢ SGE GPE <span class="ville">Billy-Montigny</span></li>
            <li>üè¢ CMBH <span class="ville">Saint-Laurent-Blangy</span></li>
            <li>üè¢ CML Indus <span class="ville">Wingles</span></li>
            <li>üè¢ Couverture Charpente Solaire <span class="ville">Bully-Les-Mines</span></li>
            <li>üè¢ Cressent <span class="ville">Sains-en-Gohelle</span></li>
            <li>üè¢ Cromi <span class="ville">Oppi</span></li>
            <li>üè¢ CTA <span class="ville">Calonne-Ricouart</span></li>
            <li>üè¢ Dassault Aviation <span class="ville">Seclin</span></li>
            <li>üè¢ Decima <span class="ville">Saint-Laurent-Blangy</span></li>
            <li>üè¢ Delemazure <span class="ville">Haisnes</span></li>
            <li>üè¢ Deligny <span class="ville">Saint-P√¥le-Sur-Ternoise</span></li>
            <li>üè¢ Delobelle <span class="ville">Douai</span></li>
            <li>üè¢ Dest√©e Chaudronnerie <span class="ville">Flines-lez-Raches</span></li>
            <li>üè¢ Flinois <span class="ville">Dourges</span></li>
            <li>üè¢ FMS Poulet <span class="ville">Aix-Noulette</span></li>
            <li>üè¢ Haagen Dazs <span class="ville">Arras</span></li>
            <li>üè¢ Heripret <span class="ville">Wingles</span></li>
            <li>üè¢ Huwer <span class="ville">Ruitz</span></li>
            <li>üè¢ J2C Chaudronnerie <span class="ville">La Comt√©</span></li>
            <li>üè¢ KY Plast <span class="ville">Ruitz</span></li>
            <li>üè¢ LDMD <span class="ville">Lens</span></li>
            <li>üè¢ Loridan <span class="ville">Violaines</span></li>
            <li>üè¢ DPI <span class="ville">Feuchy</span></li>
            <li>üè¢ EBTM <span class="ville">Harnes</span></li>
            <li>üè¢ Eiffage <span class="ville">B√©thune</span></li>
            <li>üè¢ Eiffage <span class="ville">Lens</span></li>
            <li>üè¢ EIM <span class="ville">Douvrin</span></li>
            <li>üè¢ Emip <span class="ville">Somme</span></li>
            <li>üè¢ Endel <span class="ville">Lens</span></li>
            <li>üè¢ Escaliers Delalleau <span class="ville">Aix-Noulette</span></li>
            <li>üè¢ ETCI <span class="ville">Vendin-Le-Vieil</span></li>
            <li>üè¢ Eurogaz <span class="ville">Lens</span></li>
            <li>üè¢ Fer et Alu <span class="ville">Li√©vin</span></li>
            <li>üè¢ ACIP Chaudronnerie <span class="ville">Phalempin</span></li>
            <li>üè¢ ACMB <span class="ville">Beuvry</span></li>
            <li>üè¢ Actri <span class="ville">Noeux-Les-Mines</span></li>
            <li>üè¢ Alkern <span class="ville">Harnes</span></li>
            <li>üè¢ Apic <span class="ville">Ruitz</span></li>
            <li>üè¢ Arras Maxei Feuchy <span class="ville">Arras</span></li>
            <li>üè¢ Atram <span class="ville">Fleurbaix</span></li>
            <li>üè¢ Bati Pat Services <span class="ville">Loos-en-Gohelle</span></li>
            <li>üè¢ Ben Alu <span class="ville">Li√©vin</span></li>
            <li>üè¢ Bouillet <span class="ville">Wavrin</span></li>
            <li>üè¢ Breschard <span class="ville">Wahagnies</span></li>
            <li>üè¢ Carosserie Barre <span class="ville">Sallaumines</span></li>
            <li>üè¢ Cime Environnement <span class="ville">Labourse</span></li>
            <li>üè¢ Max Mine <span class="ville">B√©thune</span></li>
            <li>üè¢ Mecatec <span class="ville">Qui√©ry La Motte</span></li>
            <li>üè¢ Module Espace Alu <span class="ville">Sailly-La-Bourse</span></li>
            <li>üè¢ M.S.T.I <span class="ville">Vendin-Le-Vieil</span></li>
            <li>üè¢ Nord tuyauterie <span class="ville">Billy-Montigny</span></li>
            <li>üè¢ Ortec Friedlander <span class="ville">Douvrin</span></li>
            <li>üè¢ Palchem <span class="ville">Angres</span></li>
            <li>üè¢ Panien <span class="ville">Inchy-En-Artois</span></li>
            <li>üè¢ Peme <span class="ville">Gourdin</span></li>
            <li>üè¢ Polybat Alu <span class="ville">Herlies</span></li>
            <li>üè¢ SMCI <span class="ville">Vendin-Le-Vieil</span></li>
            <li>üè¢ Snaam <span class="ville">Li√©vin</span></li>
            <li>üè¢ SNCF <span class="ville">Achicourt</span></li>
            <li>üè¢ STBE <span class="ville">Ruitz</span></li>
            <li>üè¢ STID <span class="ville">Courrieres</span></li>
            <li>üè¢ STIN Verdon <span class="ville">Douvrin</span></li>
            <li>üè¢ TCB <span class="ville">Bruay-La-Buissi√®re</span></li>
            <li>üè¢ TCM <span class="ville">Sains-en-Gohelle</span></li>
            <li>üè¢ TDI <span class="ville">Li√©vin</span></li>
            <li>üè¢ Techni Gaine Plus <span class="ville">Saint-Laurent-Blangy</span></li>
            <li>üè¢ Terberg Matec <span class="ville">Grenay</span></li>
            <li>üè¢ Tuyauteurs 4 vents <span class="ville">La Comte</span></li>
            <li>üè¢ Vasseur Serrurerie et M√©tallerie <span class="ville">M√©ricourt</span></li>
            <li>üè¢ Vitalis <span class="ville">Violaines</span></li>
            <li>üè¢ Wehr Groupe</li>
          </ul>
        </div>
      </details>
    </section>
  </main>

  <footer>
    <div class="foot-inner">
      <span>¬© <span id="year"></span> PFMP HENRI DARRAS</span>
      <span>PFMP HENRI DARRAS ‚Ä¢ 2025</span>
    </div>
  </footer>

  <script>
    // ===================== Donn√©es temps de trajet =====================
    const tempsTrajets = {
      "Ablain-Saint-Nazaire": { temps: "13 min", mode: "üöå Bus" },
      "Achicourt": { temps: "29 min", mode: "üöå Bus" },
      "Aix-Noulette": { temps: "35 min", mode: "üöå Bus" },
      "Arras": { temps: "22 min", mode: "üöÜ Train" },
      "Auchy-Les-Mines": { temps: "32 min", mode: "üöå Bus" },
      "Avion": { temps: "18 min", mode: "üöå Bus" },
      "Billy-Montigny": { temps: "35 min", mode: "üöå Bus" },
      "Bruay-La-Buissi√®re": { temps: "62 min", mode: "üöÜ Train" },
      "Bully-Les-Mines": { temps: "14 min", mode: "üöå Bus" },
      "B√©thune": { temps: "25 min", mode: "üöÜ Train" },
      "Carvin": { temps: "38 min", mode: "üöÜ Train" },
      "Courrieres": { temps: "11 min", mode: "üöå Bus" },
      "Dainville": { temps: "30 min", mode: "üöå Bus" },
      "Dourges": { temps: "61 min", mode: "üöÜ Train" },
      "Douvrin": { temps: "7 min", mode: "üöå Bus" },
      "Grenay": { temps: "66 min", mode: "üöÜ Train" },
      "H√©nin-Beaumont": { temps: "61 min", mode: "üöÜ Train" },
      "Labourse": { temps: "74 min", mode: "üöÜ Train" },
      "Lens": { temps: "11 min", mode: "üöå Bus" },
      "Lille": { temps: "59 min", mode: "üöÜ Train" },
      "Li√©vin": { temps: "5 min", mode: "üöå Bus" },
      "Loison-sous-Lens": { temps: "40 min", mode: "üöÜ Train" },
      "Loos-en-Gohelle": { temps: "13 min", mode: "üöå Bus" },
      "Mazingarbe": { temps: "13 min", mode: "üöå Bus" },
      "Montigny-en-Gohelle": { temps: "19 min", mode: "üöå Bus" },
      "M√©ricourt": { temps: "51 min", mode: "üöÜ Train" },
      "Noyelles-Les-Seclin": { temps: "73 min", mode: "üöÜ Train" },
      "Orchies": { temps: "30 min", mode: "üöÜ Train" },
      "Riaumont": { temps: "14 min", mode: "üöå Bus" },
      "Rouvroy": { temps: "44 min", mode: "üöÜ Train" },
      "Sains-en-Gohelle": { temps: "75 min", mode: "üöÜ Train" },
      "Saint-Laurent-Blangy": { temps: "21 min", mode: "üöå Bus" },
      "Saint-P√¥le-Sur-Ternoise": { temps: "64 min", mode: "üöÜ Train" },
      "Sallaumines": { temps: "35 min", mode: "üöå Bus" },
      "Seclin": { temps: "47 min", mode: "üöÜ Train" },
      "Vendin-le-Vieil": { temps: "33 min", mode: "üöå Bus" },
      "Villeneuve-d'Ascq": { temps: "51 min", mode: "üöÜ Train" },
      "Vimy": { temps: "8 min", mode: "üöå Bus" },
      "Wasquehal": { temps: "53 min", mode: "üöÜ Train" },
      "Wingles": { temps: "19 min", mode: "üöå Bus" }
    };

    // ===================== Utilitaires =====================
    function shuffleArray(array){
      for(let i=array.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [array[i],array[j]]=[array[j],array[i]];
      }
      return array;
    }

    // ===================== Filtres =====================
    function filterCards(){
      const input = document.getElementById('searchInput').value.toLowerCase().trim();
      document.querySelectorAll('section .section details').forEach(d=>{
        const text = d.innerText.toLowerCase();
        d.style.display = text.includes(input) ? '' : 'none';
      });
    }
    function filterByFiliere(){
      const filiere = document.getElementById('filiereSelect').value; // ciel | melec | chaud | all
      document.querySelectorAll('main .section').forEach(sec=>{
        sec.style.display = (filiere==='all' || sec.dataset.fil===filiere) ? '' : 'none';
      });
    }

    // ===================== Init =====================
    function applyTrajets(){
      document.querySelectorAll('.ville').forEach(span=>{
        const city = span.textContent.trim();
        const data = tempsTrajets[city];
        if(data){ span.textContent = `${city} ‚Äî ${data.mode} ${data.temps}`; }
      });
    }

    function mixLists(){
      document.querySelectorAll('details ul').forEach(ul=>{
        const items=[...ul.children];
        shuffleArray(items).forEach(li=>ul.appendChild(li));
      });
    }

    // M√©lange cibl√© d'une seule liste (utilis√© √† l'ouverture d'un <details>)
    function shuffleList(ul){
      const items=[...ul.children];
      shuffleArray(items).forEach(li=>ul.appendChild(li));
    }

    function updateCounters(){
      document.querySelectorAll('details').forEach(d=>{
        const count = d.querySelectorAll('li').length;
        const counter = d.querySelector('.counter');
        if(counter){ counter.textContent = `(${count} lieux)`; }
      });
      // totaux par fili√®re (badges)
      const countBySection = (id)=>[...document.querySelectorAll(`#${id} details li`)].length;
      document.getElementById('count-ciel').textContent = `(${countBySection('ciel')})`;
      document.getElementById('count-melec').textContent = `(${countBySection('melec')})`;
      document.getElementById('count-chaud').textContent = `(${countBySection('chaudronnerie')})`;
    }

    // Accessibilit√© : ouvrir/fermer au clavier avec Space/Enter correctement (native ok) + focus style

    document.addEventListener('DOMContentLoaded',()=>{
      document.getElementById('year').textContent = new Date().getFullYear();
      applyTrajets();
      mixLists();
      updateCounters();
      filterByFiliere();

      // Re-m√©langer dynamiquement √† chaque ouverture d'un bloc
      document.querySelectorAll('details').forEach(d=>{
        d.addEventListener('toggle',()=>{
          if(d.open){
            const ul = d.querySelector('ul');
            if(ul) shuffleList(ul);
            updateCounters();
          }
        });
      });
    });
  </script>
</body>
</html>
